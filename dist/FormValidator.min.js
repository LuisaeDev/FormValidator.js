!function(){function e(e){return"[object HTMLFormElement]"==Object.prototype.toString.call(e)?e:"string"==typeof e?"#"==e.substr(0,1)?document.getElementById(e.substr(1)):document.forms[e]:void 0}function t(e){return"[object Function]"==Object.prototype.toString.call(e)}function r(e){return"[object File]"==Object.prototype.toString.call(e)}function s(e){return"[object Array]"==Object.prototype.toString.call(e)}function l(e,t){return-1!=e.indexOf(t)}var n={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,"float":/^\-?[0-9]*\.?[0-9]+$/,integer:/^\-?[0-9]+$/,ip:/^((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){3}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})$/i,letters:/^[a-zA-Z]+$/i,lettersDash:/^[a-zA-Z\-]+$/i,numbers:/^[0-9]+$/,numbersDash:/^[0-9\-]+$/,url:/^((http|https):\/\/(\w+:{0,1}\w*@)?(\S+)|)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/},a=function(t){this._errors=[],this._fields=[],this._customRules={},this._customTypes={},this._customMessages={};for(option in t)this[option]=t[option];this.form=e(t.form),this.context||(this.context=this),t.fields&&this.setFields(t.fields);var r=this;this.form.onsubmit=function(e){return r.validate(void 0,e),r._errors.length>0||1==r.preventDefault?(e&&e.preventDefault?e.preventDefault():event&&(event.returnValue=!1),!1):!0}};a.prototype={form:void 0,preventDefault:!0,context:void 0,_errors:void 0,_change:void 0,_always:void 0,_success:void 0,_fail:void 0,_fields:void 0,_customRules:void 0,_customTypes:void 0,_customMessages:void 0},a.prototype._messages={required:'El campo "%label" es requerido',type:'El valor del campo "%label" es inválido',match:'El campo "%label" debe ser igual al campo "%param"',"min-length":'El campo "%label" debe contener al menos %param caracteres de largo',"max-length":'El campo "%label" no debe exceder los %param caracteres de largo',length:'El campo "%label" debe tener exactamente %param caracteres de largo',"min-range":'El campo "%label" debe ser igual o mayor a %param',"max-range":'El campo "%label" no debe ser mayor a %param',regex:'El valor del campo "%label" es inválido',"file-ext":'La extensión del archivo seleccionado en el campo "%label" es inválida',"file-mime":'El formato MIME del archivo seleccionado en el campo "%label" es inválido',"file-min-size":'El tamaño mínimo del archivo para el campo "%label" debe ser de %param MB',"file-max-size":'El tamaño máximo del archivo para el campo "%label" debe ser de %param MB',validate:'El campo "%label" es inválido'},a.prototype._rules={required:function(e,t,r){return t===!0?null!==r.value&&""!==r.value:!0},type:function(e,r,s){var i=this._customTypes[r]||this._types[r];return t(i)?i.apply(this,[e,s]):!1},match:function(e,t,r){var s=this.getValue(t);return s?e===s:!1},"min-length":function(e,t,r){return e.length>=parseInt(t,10)},"max-length":function(e,t,r){return e.length<=parseInt(t,10)},length:function(e,t,r){return e.length===parseInt(t,10)},"min-range":function(e,t,r){return parseFloat(e)>=parseFloat(t)},"max-range":function(e,t,r){return parseFloat(e)<=parseFloat(t)},regex:function(e,t,r){return t.test(e)},"file-ext":function(e,t,i){if("file"==i.type&&"file"==i.rules.type){if(r(e))var n=e.name;else var n=e;if(n=n.substr(n.lastIndexOf(".")+1).toLowerCase(),s(t)){for(var a in t)t[a]=t[a].toLowerCase();return l(t,n)}return n==t.toLowerCase()}return!1},"file-mime":function(e,t,i){if("file"==i.type&&"file"==i.rules.type){if(!r(e))return!0;var n=e.type.toLowerCase();if(s(t)){for(var a in t)t[a]=t[a].toLowerCase();return l(t,n)}return n==t.toLowerCase()}return!1},"file-min-size":function(e,t,s){if("file"==s.type&&"file"==s.rules.type){if(!r(e))return!0;var i=Number(e.size)/1024/1024;return i>=t}return!1},"file-max-size":function(e,t,s){if("file"==s.type&&"file"==s.rules.type){if(!r(e))return!0;var i=Number(e.size)/1024/1024;return t>=i}return!1},validate:function(e,r,s){return!(!t(r)||r.apply(this.context,[e,s])!==!0)}},a.prototype._types={email:function(e,t){return n.email.test(e)},emails:function(e,t){var r=e.split(/\s*,\s*/g);for(i in r)if(!n.email.test(r[i]))return!1;return!0},letters:function(e,t){return n.letters.test(e)},"letters-dash":function(e,t){return n.lettersDash.test(e)},numbers:function(e,t){return n.numbers.test(e)},"numbers-dash":function(e,t){return n.numbersDash.test(e)},integer:function(e,t){return n.integer.test(e)},"float":function(e,t){return n["float"].test(e)},url:function(e,t){return n.url.test(e)},ip:function(e,t){return n.ip.test(e)},file:function(e,t){return"file"==t.type&&(r(e)||"string"==typeof e)}},a.prototype.change=function(e){return this._change=e,this},a.prototype.always=function(e){return this._always=e,this},a.prototype.success=function(e){return this._success=e,this},a.prototype.fail=function(e){return this._fail=e,this},a.prototype.setFields=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++){var s=e[t[r]],i=t[r].split(",");for(var l in i)this.setField(i[l].trim(),s)}return this},a.prototype.setField=function(e,r){var s=this.form[e];if(s){if(void 0==s.nodeName&&s.length>1)var i=s[0].getAttribute("type")||s[0].nodeName.toLowerCase();else var i=s.getAttribute("type")||s.nodeName.toLowerCase();var l={el:s,name:e,label:r.label||e,rules:r.rules||{},messages:r.messages||{},change:r.change||void 0,type:i,value:null};this._fields.push(l);var n=this;if(void 0==s.nodeName&&s.length>1)var a=s;else var a=[s];for(var o=0;o<a.length;o++){var s=a[o];s.addEventListener("change",function(e){var r=n.checkField(l.name);1==r?(t(l.change)&&l.change.apply(n.context,[l,void 0,e]),n._change.apply(n.context,[l,void 0,e])):(t(l.change)&&l.change.apply(n.context,[l,r,e]),n._change.apply(n.context,[l,r,e]))})}}return this},a.prototype.checkField=function(e){var t=this.getField(e);if(t){this.getValue(t.name);var r=this._checkField(t);return r}},a.prototype.isValid=function(e){var t=this.getField(e);if(t)return this.getValue(t.name),this._checkField(t)===!0},a.prototype.getValue=function(e){var t=this.getField(e);if(t){switch(t.value=null,t.type){case"file":var r=[];if("files"in t.el&&t.el.files.length>0){for(var s=0;s<t.el.files.length;s++)r.push(t.el.files[s]);t.value=r}else t.value=t.el.value;break;case"radio":if(t.el.length>1){for(var s=0;s<t.el.length;s++)if(t.el[s].checked){t.value=t.el[s].value;break}}else t.el.checked&&(t.value=t.el.value);break;case"checkbox":var r=[];if(t.el.length>1)for(var s=0;s<t.el.length;s++)t.el[s].checked&&r.push(t.el[s].value);else t.el.checked&&r.push(t.el.value);r.length>0&&(t.value=r);break;case"select":if(t.el.hasAttribute("multiple")){var r=[];if(t.el.length>1)for(var s=0;s<t.el.length;s++)t.el[s].selected&&r.push(t.el[s].value);else r.push(t.el.value);r.length>0&&(t.value=r)}else t.value=t.el.value;break;default:t.value=t.el.value}return t.value}},a.prototype.getError=function(){return this._errors.length>0?this._errors[0]:!1},a.prototype.getErrors=function(){return this._errors},a.prototype.submit=function(){this.form.submit()},a.prototype.validate=function(e,r){try{this._errors=[];for(var s in this._fields)this.getValue(this._fields[s].name);for(var s in this._fields){var i=this._fields[s];if(!i.el.disabled){var l=this._checkField(i);1!=l&&this._errors.push(l)}}t(this._always)&&this._always.apply(this.context,[this.getError(),r]);var n=new Object;for(var s in this._fields)this._fields[s].el.disabled||(n[this._fields[s].name]=this._fields[s].value);return 0==this._errors.length?t(this._success)&&this._success.apply(this.context,[n,r]):t(this._fail)&&this._fail.apply(this.context,[this.getErrors(),r]),t(e)&&e.apply(this.context,[n,this.getErrors()]),!(this._errors.length>0)}catch(a){return console.log(a),!1}},a.prototype.replaceMessage=function(e,t){if(void 0!==this._customMessages)var r=this._customMessages;else var r=this._messages;return r[e]&&(r[e]=t),this},a.prototype.extendRule=function(e,t,r){if(void 0!==this._customRules)var s=this._customRules,i=this._customMessages;else var s=this._rules,i=this._messages;return s[e]=r,i[e]=t,this},a.prototype.extendType=function(e,t){return void 0!==this._customTypes?this._customTypes[e]=t:this._types[e]=t,this},a.prototype.getField=function(e){for(var t in this._fields)if(e==this._fields[t].name)return this._fields[t]},a.prototype._checkField=function(e){for(var t=void 0,r=""===e.value||null===e.value,i=Object.keys(e.rules),l=0;l<i.length;l++){var n=i[l],a=!1;if(!r||e.rules.required===!0){var o=this._customRules[n]||this._rules[n];if("function"==typeof o){var u=e.rules[n];try{if(s(e.value))for(var c in e.value)o.apply(this,[e.value[c],u,e])!==!0&&(a=!0);else o.apply(this,[e.value,u,e])!==!0&&(a=!0)}catch(f){a=!0}}if(a){var p=e.messages[n]||this._customMessages[n]||this._messages[n]||"Ha ocurrido un error con el campo "+(e.label||e.name);p=p.replace("%label",e.label||e.name),p=p.replace("%param",u),t?t.messages.push(p):t={field:e,rule:n,message:p,messages:[p]}}}}return t?t:!0},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return a}):"undefined"!=typeof module&&module.exports&&(module.exports=a),window.FormValidator=a,Object.keys||(Object.keys=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],s=r.length;return function(i){if("object"!=typeof i&&("function"!=typeof i||null===i))throw new TypeError("Object.keys called on non-object");var l,n,a=[];for(l in i)e.call(i,l)&&a.push(l);if(t)for(n=0;s>n;n++)e.call(i,r[n])&&a.push(r[n]);return a}}())}();